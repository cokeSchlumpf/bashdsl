package com.wellnr.generator

import java.util.List

class StringUtil {
	
	def comment(String s) {
		s.extend("# ", "")
	}
	
	def echo(String s) {
		s.extend("echo \"", "\"")
	}
	
	def ensureSentence(String s) {
		if (s.endsWith(".") || s.endsWith("!") || s.endsWith("?")) {
			s
		} else {
			s + "."
		}
	}
	
	def mkString(List<String> strings, String seperator) {
		strings.fold("") [ seed, string |
			var result = seed;
			
			if (seed.length > 0) {
				result = result + seperator	
			}
			
			result + string
		]
	}
	
	def extend(String s, String prefix, String postfix) {
		s.split("\n").map[line|'''«prefix»«line»«postfix»'''].mkString("\n")
	}
	
	def variableName(String s) {
		val arr = s.split("|")
		println(arr)
		val eno = arr.last
		println(eno)
		s.split("|").last.replace("-", "").toUpperCase
	}
	
	def variable(String s) {
		'''${«s.variableName»}'''
	}
	
}